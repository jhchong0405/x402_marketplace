{
  "_format": "hh-sol-artifact-1",
  "contractName": "X402PaymentProcessor",
  "sourceName": "contracts/X402PaymentProcessor.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_paymentToken",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_escrow",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_serviceRegistry",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "serviceId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "nonce",
          "type": "bytes32"
        }
      ],
      "name": "PaymentProcessed",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "escrow",
      "outputs": [
        {
          "internalType": "contract X402Escrow",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "paymentToken",
      "outputs": [
        {
          "internalType": "contract IERC20Permit",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "serviceId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "validAfter",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "validBefore",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "nonce",
          "type": "bytes32"
        },
        {
          "internalType": "uint8",
          "name": "v",
          "type": "uint8"
        },
        {
          "internalType": "bytes32",
          "name": "r",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "s",
          "type": "bytes32"
        }
      ],
      "name": "processPayment",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "serviceRegistry",
      "outputs": [
        {
          "internalType": "contract X402ServiceRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newRegistry",
          "type": "address"
        }
      ],
      "name": "setServiceRegistry",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "usedNonces",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60c060405234801561001057600080fd5b506040516109f53803806109f583398101604081905261002f916101d4565b338061005657604051631e4fbdf760e01b8152600060048201526024015b60405180910390fd5b61005f81610168565b50600180556001600160a01b0383166100aa5760405162461bcd60e51b815260206004820152600d60248201526c24b73b30b634b2103a37b5b2b760991b604482015260640161004d565b6001600160a01b0382166100f15760405162461bcd60e51b815260206004820152600e60248201526d496e76616c696420657363726f7760901b604482015260640161004d565b6001600160a01b03811661013a5760405162461bcd60e51b815260206004820152601060248201526f496e76616c696420726567697374727960801b604482015260640161004d565b6001600160a01b0392831660805290821660a052600280546001600160a01b03191691909216179055610217565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80516001600160a01b03811681146101cf57600080fd5b919050565b6000806000606084860312156101e957600080fd5b6101f2846101b8565b9250610200602085016101b8565b915061020e604085016101b8565b90509250925092565b60805160a0516107a5610250600039600081816101350152818161034a015261042f015260008181609d01526103a601526107a56000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c8063cbcf252a11610066578063cbcf252a1461010a578063d7071b1f1461011d578063e2fdcc1714610130578063f2fde38b14610157578063feb617241461016a57600080fd5b80633013ce2914610098578063715018a6146100dc57806380cdb8ce146100e65780638da5cb5b146100f9575b600080fd5b6100bf7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100e461019d565b005b6100e46100f4366004610667565b6101b1565b6000546001600160a01b03166100bf565b6002546100bf906001600160a01b031681565b6100e461012b3660046106ea565b6104fb565b6100bf7f000000000000000000000000000000000000000000000000000000000000000081565b6100e46101653660046106ea565b61056d565b61018d61017836600461070e565b60036020526000908152604090205460ff1681565b60405190151581526020016100d3565b6101a56105ab565b6101af60006105d8565b565b6101b9610628565b60008481526003602052604090205460ff16156102125760405162461bcd60e51b8152602060048201526012602482015271139bdb98d948185b1c9958591e481d5cd95960721b60448201526064015b60405180910390fd5b600084815260036020526040808220805460ff191660011790556002549051636d23ec2b60e11b8152600481018c9052829182916001600160a01b039091169063da47d85690602401606060405180830381865afa158015610278573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061029c9190610727565b925092509250806102e45760405162461bcd60e51b815260206004820152601260248201527153657276696365206e6f742061637469766560701b6044820152606401610209565b818a101561032b5760405162461bcd60e51b8152602060048201526014602482015273125b9cdd59999a58da595b9d081c185e5b595b9d60621b6044820152606401610209565b6040516377aadf6360e11b81526001600160a01b038c811660048301527f000000000000000000000000000000000000000000000000000000000000000081166024830152604482018c9052606482018b9052608482018a905260a4820189905260ff881660c483015260e4820187905261010482018690527f0000000000000000000000000000000000000000000000000000000000000000169063ef55bec69061012401600060405180830381600087803b1580156103eb57600080fd5b505af11580156103ff573d6000803e3d6000fd5b505060405163745ca77f60e11b81526001600160a01b0386811660048301528e81166024830152604482018e90527f000000000000000000000000000000000000000000000000000000000000000016925063e8b94efe9150606401600060405180830381600087803b15801561047557600080fd5b505af1158015610489573d6000803e3d6000fd5b50505050826001600160a01b03168b6001600160a01b03168d7f78176f5a67d9234e2a7cf31dd41eafe1b12917ae1dbd099c402c682405a238258d8b6040516104dc929190918252602082015260400190565b60405180910390a45050506104f060018055565b505050505050505050565b6105036105ab565b6001600160a01b03811661054b5760405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b6044820152606401610209565b600280546001600160a01b0319166001600160a01b0392909216919091179055565b6105756105ab565b6001600160a01b03811661059f57604051631e4fbdf760e01b815260006004820152602401610209565b6105a8816105d8565b50565b6000546001600160a01b031633146101af5760405163118cdaa760e01b8152336004820152602401610209565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60026001540361064b57604051633ee5aeb560e01b815260040160405180910390fd5b6002600155565b6001600160a01b03811681146105a857600080fd5b60008060008060008060008060006101208a8c03121561068657600080fd5b8935985060208a013561069881610652565b975060408a0135965060608a0135955060808a0135945060a08a0135935060c08a013560ff811681146106ca57600080fd5b8093505060e08a013591506101008a013590509295985092959850929598565b6000602082840312156106fc57600080fd5b813561070781610652565b9392505050565b60006020828403121561072057600080fd5b5035919050565b60008060006060848603121561073c57600080fd5b835161074781610652565b602085015160408601519194509250801515811461076457600080fd5b80915050925092509256fea26469706673582212200693be37e6c9b05c5034792a28919fd2dd7fc29130c8137e582587d949cb5b1664736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100935760003560e01c8063cbcf252a11610066578063cbcf252a1461010a578063d7071b1f1461011d578063e2fdcc1714610130578063f2fde38b14610157578063feb617241461016a57600080fd5b80633013ce2914610098578063715018a6146100dc57806380cdb8ce146100e65780638da5cb5b146100f9575b600080fd5b6100bf7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100e461019d565b005b6100e46100f4366004610667565b6101b1565b6000546001600160a01b03166100bf565b6002546100bf906001600160a01b031681565b6100e461012b3660046106ea565b6104fb565b6100bf7f000000000000000000000000000000000000000000000000000000000000000081565b6100e46101653660046106ea565b61056d565b61018d61017836600461070e565b60036020526000908152604090205460ff1681565b60405190151581526020016100d3565b6101a56105ab565b6101af60006105d8565b565b6101b9610628565b60008481526003602052604090205460ff16156102125760405162461bcd60e51b8152602060048201526012602482015271139bdb98d948185b1c9958591e481d5cd95960721b60448201526064015b60405180910390fd5b600084815260036020526040808220805460ff191660011790556002549051636d23ec2b60e11b8152600481018c9052829182916001600160a01b039091169063da47d85690602401606060405180830381865afa158015610278573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061029c9190610727565b925092509250806102e45760405162461bcd60e51b815260206004820152601260248201527153657276696365206e6f742061637469766560701b6044820152606401610209565b818a101561032b5760405162461bcd60e51b8152602060048201526014602482015273125b9cdd59999a58da595b9d081c185e5b595b9d60621b6044820152606401610209565b6040516377aadf6360e11b81526001600160a01b038c811660048301527f000000000000000000000000000000000000000000000000000000000000000081166024830152604482018c9052606482018b9052608482018a905260a4820189905260ff881660c483015260e4820187905261010482018690527f0000000000000000000000000000000000000000000000000000000000000000169063ef55bec69061012401600060405180830381600087803b1580156103eb57600080fd5b505af11580156103ff573d6000803e3d6000fd5b505060405163745ca77f60e11b81526001600160a01b0386811660048301528e81166024830152604482018e90527f000000000000000000000000000000000000000000000000000000000000000016925063e8b94efe9150606401600060405180830381600087803b15801561047557600080fd5b505af1158015610489573d6000803e3d6000fd5b50505050826001600160a01b03168b6001600160a01b03168d7f78176f5a67d9234e2a7cf31dd41eafe1b12917ae1dbd099c402c682405a238258d8b6040516104dc929190918252602082015260400190565b60405180910390a45050506104f060018055565b505050505050505050565b6105036105ab565b6001600160a01b03811661054b5760405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b6044820152606401610209565b600280546001600160a01b0319166001600160a01b0392909216919091179055565b6105756105ab565b6001600160a01b03811661059f57604051631e4fbdf760e01b815260006004820152602401610209565b6105a8816105d8565b50565b6000546001600160a01b031633146101af5760405163118cdaa760e01b8152336004820152602401610209565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60026001540361064b57604051633ee5aeb560e01b815260040160405180910390fd5b6002600155565b6001600160a01b03811681146105a857600080fd5b60008060008060008060008060006101208a8c03121561068657600080fd5b8935985060208a013561069881610652565b975060408a0135965060608a0135955060808a0135945060a08a0135935060c08a013560ff811681146106ca57600080fd5b8093505060e08a013591506101008a013590509295985092959850929598565b6000602082840312156106fc57600080fd5b813561070781610652565b9392505050565b60006020828403121561072057600080fd5b5035919050565b60008060006060848603121561073c57600080fd5b835161074781610652565b602085015160408601519194509250801515811461076457600080fd5b80915050925092509256fea26469706673582212200693be37e6c9b05c5034792a28919fd2dd7fc29130c8137e582587d949cb5b1664736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
